<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      7.10.&nbsp;Creating Custom Symlinks to Devices
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="lfs" id="lfs-6.6">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 6.6
      </h4>
      <h3>
        Chapter&nbsp;7.&nbsp;&#37197;&#32622;&#31995;&#32479;&#21551;&#21160;&#33050;&#26412;</h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="udev.html" title=
          "Device and Module Handling on an LFS System">&#21518;&#36864;</a>
          <p>
            LFS &#31995;&#32479;&#30340;&#35774;&#22791;&#21644;&#27169;&#22359;&#22788;&#29702;
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="hostname.html" title=
          "Configuring the localnet Script">&#21069;&#36827;</a>
          <p>
            &#37197;&#32622; localnet &#33050;&#26412; 
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter07.html" title=
          "Chapter&nbsp;7.&nbsp;Setting Up System Bootscripts">&#19978;&#19968;&#32423;</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 6.6">&#39318;&#39029;</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ch-scripts-symlinks" name="ch-scripts-symlinks"></a>7.10.
        &#20026;&#35774;&#22791;&#21019;&#24314;&#24815;&#29992;&#31526;&#21495;&#36830;&#25509; 
      </h1>
      <div class="sect2" lang="en" xml:lang="en">
        <h2 class="sect2">
          7.10.1. CD-ROM &#31526;&#21495;&#38142;&#25509;
        </h2>
        <p>
          &#20197;&#21518;&#65292;&#20320;&#21487;&#33021;&#23433;&#35013;&#19968;&#20123;&#36719;&#20214; (&#27604;&#22914;&#65292;&#21508;&#31181;&#23186;&#20307;&#25773;&#25918;&#22120;)&#65292;&#38656;&#35201;&#23384;&#22312; <code class="filename">/dev/cdrom</code>
          &#21644; <code class="filename">/dev/dvd</code> &#31526;&#21495;&#38142;&#25509;&#65292;&#24182;&#25351;&#21521; CD-ROM &#25110; DVD-ROM &#35774;&#22791;&#12290; &#21478;&#22806;&#65292;&#25226;&#30456;&#20851;&#30340;&#31526;&#21495;&#38142;&#25509;&#25918;&#21040; <code class=
          "filename">/etc/fstab</code> &#20013;&#26356;&#26041;&#20415;&#20351;&#29992;&#12290; Udev &#38468;&#24102;&#30340;&#19968;&#20010;&#33050;&#26412;&#65292; &#23427;&#26681;&#25454;&#27599;&#20010;&#35774;&#22791;&#30340;&#21151;&#33021;&#20250;&#29983;&#25104;&#35268;&#21017;&#25991;&#20214;&#65292; &#26469;&#20026;&#20320;&#21019;&#24314;&#36825;&#20123;&#31526;&#21495;&#38142;&#25509;&#12290;  &#32780;&#20320;&#24517;&#39035;&#20915;&#23450;&#20320;&#24819;&#25226;&#36825;&#20010;&#33050;&#26412;&#29992;&#20110;&#21738;&#20004;&#31181;&#25805;&#20316;&#27169;&#24335;&#12290; </p>
        <p>&#31532;&#19968;&#65292;&#36825;&#20010;&#33050;&#26412;&#21487;&#20197;&#36816;&#34892;&#22312; &ldquo;<span class=
          "quote">by-path</span>&rdquo; &#27169;&#24335; &#65288;&#40664;&#35748;&#29992;&#20110; USB &#21644;
          FireWire &#35774;&#22791;)&#65292;&#36825;&#26102;&#26681;&#25454;CD &#25110;DVD&#35774;&#22791;&#30340;&#29289;&#29702;&#36335;&#24452;&#21019;&#24314;&#35268;&#21017;&#12290;&#31532;&#20108;&#65292;&#23427;&#21487;&#20197;&#36816;&#34892;&#22312;          &ldquo;<span class="quote">by-id</span>&rdquo; &#27169;&#24335; (&#40664;&#35748;&#29992;&#20110;          IDE &#21644; SCSI &#35774;&#22791;)&#65292; &#36825;&#26102;&#26681;&#25454;&#23384;&#20648;&#22312;CD &#25110; DVD &#35774;&#22791;&#33258;&#36523;&#30340;&#36523;&#20221;&#23383;&#31526;&#20018;&#21019;&#24314;&#35268;&#21017;&#12290; 
          path &#30001; Udev &#30340; <span class=
          "command"><strong>path_id</strong></span>&#33050;&#26412;&#30830;&#23450;&#65292;&#36523;&#20221;&#23383;&#31526;&#20018;&#26681;&#25454;&#20320;&#30340;&#35774;&#22791;&#31867;&#22411;&#65292;&#30001;<span class="command"><strong>ata_id</strong></span> &#25110;
          <span class="command"><strong>scsi_id</strong></span> &#31243;&#24207;&#20174;&#30828;&#20214;&#35835;&#21462;&#12290;</p>
        <p>&#27599;&#31181;&#27169;&#24335;&#37117;&#26377;&#20248;&#28857;&#65292; &#20320;&#35201;&#26681;&#25454;&#35774;&#22791;&#31867;&#22411;&#30340;&#26356;&#25913;&#65292;&#20351;&#29992;&#24688;&#24403;&#30340;&#27169;&#24335;&#12290; &#22914;&#26524;&#20320;&#24819;&#35201;&#25913;&#21464;&#35774;&#22791;&#30340;&#29289;&#29702;&#36335;&#24452;(&#20063;&#23601;&#26159;&#35774;&#22791;&#25554;&#20837;&#30340;&#31471;&#21475;&#21644;/&#25110;&#25509;&#21475;) &#65292;   &#22240;&#20026;&#20320;&#24819;&#31227;&#21160;&#35774;&#22791;&#21040;&#19981;&#21516;&#30340;IDE&#31471;&#21475;&#25110;&#19981;&#21516;&#30340;USB&#25554;&#21475;&#65292;&#25152;&#20197;&#65292;&#20320;&#24212;&#35813;&#20351;&#29992;&ldquo;by-id&rdquo; &#27169;&#24335;&#12290;   &#21478;&#19968;&#26041;&#38754;&#65292;&#22914;&#26524;&#20320;&#24076;&#26395;&#25913;&#21464;&#35774;&#22791;&#30340;&#36523;&#20221;&#35777;&#26126;&#21495;&#65292; &#22240;&#20026;&#23427;&#21487;&#33021;&#22351;&#20102;&#65292;&#20320;&#35201;&#20351;&#29992;&#20855;&#26377;&#30456;&#21516;&#21151;&#33021;&#30340;&#19981;&#21516;&#35774;&#22791;&#20195;&#26367;&#23427;&#65292;&#24182;&#25554;&#20837;&#20102;&#21516;&#19968;&#20010;&#25554;&#21475;&#65292;&#25152;&#20197;&#65292; &#20320;&#24212;&#35813;&#20351;&#29992;&ldquo;by-path&rdquo; &#27169;&#24335;&#12290;</p>
        <p>&#22914;&#26524;&#20320;&#30340;&#35774;&#22791;&#21457;&#29983;&#20219;&#20309;&#31867;&#22411;&#30340;&#25913;&#21464;&#65292;&#23601;&#35201;&#26681;&#25454;&#20320;&#24076;&#26395;&#26356;&#32463;&#24120;&#21457;&#29983;&#30340;&#31867;&#22411;&#25913;&#21464;&#26469;&#36873;&#25321;&#19968;&#20010;&#27169;&#24335;&#12290;</p>
        <div class="admon important">
          <img alt="[Important]" src="../images/important.png" />
          <h3>
            &#37325;&#35201;
          </h3>
          <p>&#22806;&#37096;&#35774;&#22791; (&#20363;&#22914;&#65292;&#19968;&#20010;USB&#36830;&#25509;&#30340;CD&#39537;&#21160;&#22120;) &#19981;&#24212;&#35813;&#20351;&#29992; by-path &#27169;&#24335;&#65292;&#22240;&#20026;&#35774;&#22791;&#27599;&#27425;&#25554;&#20837;&#19968;&#20010;&#26032;&#30340;&#22806;&#37096;&#31471;&#21475;&#65292;&#23427;&#30340;&#29289;&#29702;&#36335;&#24452;&#37117;&#20250;&#25913;&#21464;&#12290;   &#22914;&#26524;&#20320;&#20889;&#30340;&#35268;&#21017;&#25991;&#20214;&#26159;&#36890;&#36807;&#29289;&#29702;&#36335;&#24452;&#26469;&#35782;&#21035;&#65292;&#25152;&#26377;&#30340;&#22806;&#37096;&#36830;&#25509;&#35774;&#22791;&#37117;&#20250;&#26377;&#36825;&#20010;&#38382;&#39064;&#65292; &#36825;&#20010;&#38382;&#39064;&#24182;&#19981;&#20165;&#38480;&#20110; CD &#21644; DVD &#39537;&#21160;&#22120;&#12290; </p>
        </div>
        <p>&#22914;&#26524;&#20320;&#24076;&#26395;&#30475;&#21040;Udev&#33050;&#26412;&#23558;&#20351;&#29992;&#30340;&#20540;&#65292;&#20026;&#36866;&#24403;&#30340;CD-ROM&#35774;&#22791;&#65292;&#25214;&#21040; /sys   &#19979;&#21512;&#36866;&#30340;&#36335;&#24452;&#65288;&#20363;&#22914;&#65292;&#21487;&#33021;&#26159; <code class="filename">/sys/block/hdd</code>&#65289;&#65292;&#35831;&#36816;&#34892;&#19968;&#20010;&#31867;&#20284;&#19979;&#38754;&#30340;&#21629;&#20196;&#65306;</p>
        <pre class="userinput"><kbd class=
        "command">udevadm test /sys/block/hdd</kbd></pre>
        <p>
          &#26597;&#30475;&#21253;&#21547;&#21508;&#31181;*_id &#31243;&#24207;&#36755;&#20986;&#30340;&#34892;&#12290; &#22914;&#26524;&#23384;&#22312;&#24182;&#19988;&#19981;&#20026;&#31354;&#65292; &ldquo;by-id&rdquo; &#27169;&#24335;&#20250;&#20351;&#29992; ID_SERIAL   &#20540;&#65292; &#21542;&#21017;&#65292;&#23427;&#23558;&#20351;&#29992; ID_MODEL &#21644; ID_REVISION &#30340;&#32452;&#21512;&#12290; &ldquo;by-path&rdquo; &#27169;&#24335;&#20250;&#20351;&#29992;   ID_PATH &#30340;&#20540;&#12290;</p>
        <p>&#22914;&#26524;&#40664;&#35748;&#30340;&#27169;&#24335;&#19981;&#36866;&#21512;&#20320;&#30340;&#29615;&#22659;&#65292;&#21487;&#20197;&#20351;&#29992;&#19979;&#38754;&#30340;&#26041;&#27861;&#26356;&#25913; <code class=
          "filename">/lib/udev/rules.d/75-cd-aliases-generator.rules</code>
          &#25991;&#20214;&#65292;&#22914;&#19979; (&#36825;&#37324; <em>mode</em> &#26159; &ldquo;by-id&rdquo; &#25110; &ldquo;by-path&rdquo; &#20013;&#30340;&#19968;&#20010;): </p>
        <pre class="userinput"><kbd class=
        "command">sed -i -e 's/write_cd_rules/&amp; <em class=
        "replaceable"><code>mode</code></em>/' \
    /lib/udev/rules.d/75-cd-aliases-generator.rules</kbd></pre>
        <p>
          &#27880;&#24847;&#22240;&#20026;&#20320;&#24050;&#32463;&#23558;&#23487;&#20027;&#31995;&#32479;&#30340; /dev &#30446;&#24405;&#32467;&#21512;&#36827;&#20102;LFS&#31995;&#32479;&#65292; &#24182;&#19988;&#25105;&#20204;&#20551;&#23450;&#23487;&#20027;&#31995;&#32479;&#19978;&#23384;&#22312;&#31526;&#21495;&#38142;&#25509;&#65292;   &#25152;&#20197;&#29616;&#22312;&#27809;&#24517;&#35201;&#24314;&#31435;&#35268;&#21017;&#25991;&#20214;&#25110;&#31526;&#21495;&#38142;&#25509;&#12290; &#35268;&#21017;&#21644;&#31526;&#21495;&#38142;&#25509;&#20250;&#22312;&#20320;&#31532;&#19968;&#27425;&#21551;&#21160;&#21040;LFS&#31995;&#32479;&#26102;&#24314;&#31435;&#12290; </p>
        <p>&#28982;&#32780;&#65292;&#22914;&#26524;&#20320;&#26377;&#22810;&#23186;&#20307;CD-ROM&#35774;&#22791;&#65292; &#22240;&#20026;&#24212;&#35813;&#25214;&#19981;&#21040;&#35813;&#35774;&#22791;&#65292; &#25152;&#20197;&#37027;&#26102;&#29983;&#25104;&#30340;&#31526;&#21495;&#38142;&#25509;&#21487;&#33021;&#25351;&#21521;&#23487;&#20027;&#31995;&#32479;&#19968;&#20010;&#19981;&#21516;&#30340;&#35774;&#22791;&#65292; &#32780;&#19981;&#26159;&#25351;&#21521;&#23427;&#12290; &#20320;&#31532;&#19968;&#27425;&#21551;&#21160;LFS&#31995;&#32479;&#26102;&#29983;&#25104;&#30340;&#20219;&#21153;&#24456;&#31283;&#23450;&#65292; &#22240;&#27492;&#22914;&#26524;&#20320;&#38656;&#35201;&#20004;&#20010;&#31995;&#32479;&#19978;&#30340;&#31526;&#21495;&#38142;&#25509;&#25351;&#21521;&#21516;&#19968;&#20010;&#35774;&#22791;&#65292; &#36825;&#23601;&#26159;&#19968;&#20010;&#38382;&#39064;&#12290;   &#22914;&#26524;&#20320;&#38656;&#35201;&#37027;&#26679;&#30340;&#35805;&#65292; &#21551;&#21160;&#21518;&#65292; &#35831;&#26816;&#26597;&#65288;&#20063;&#21487;&#33021;&#32534;&#36753;&#65289;&#29983;&#25104;&#30340; <code class=
          "filename">/etc/udev/rules.d/70-persistent-cd.rules</code>&#25991;&#20214;&#65292; &#30830;&#20445;&#25351;&#23450;&#30340;&#31526;&#21495;&#38142;&#25509;&#21305;&#37197;&#20320;&#30340;&#38656;&#27714;&#12290;</p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <h2 class="sect2">
          7.10.2. Dealing with duplicate devices
        </h2>
        <p>
          &#22312; <a class="xref" href="udev.html" title=
          "7.9.&nbsp;Device and Module Handling on an LFS System">Section&nbsp;7.9,
          &ldquo;LFS &#31995;&#32479;&#30340;&#35774;&#22791;&#21644;&#27169;&#22359;&#22788;&#29702;&rdquo;</a> &#25552;&#21040;&#36807;&#65292; 
          <code class="filename">/dev</code>&#19979;&#30456;&#21516;&#21151;&#33021;&#35774;&#22791;&#30340;&#39034;&#24207;&#26159;&#38543;&#26426;&#30340;&#12290; &#20363;&#22914;&#65292;&#20320;&#26377;&#19968;&#20010; USB &#30340;&#32593;&#32476;&#25668;&#20687;&#22836;&#21644;&#19968;&#20010; TV &#30340;&#35843;&#35856;&#22120;&#65292;&#26377;&#26102; /dev/video0 &#25351;&#21521;&#32593;&#32476;&#25668;&#20687;&#22836;&#65292;   /dev/video1 &#25351;&#21521;&#35843;&#35856;&#22120;&#65292;&#20294;&#26159;&#22312;&#37325;&#21551;&#20043;&#21518;&#21487;&#33021;&#23601;&#20250;&#25913;&#21464;&#12290; &#38500;&#20102;&#32593;&#21345;&#21644;&#22768;&#21345;&#20043;&#22806;&#30340;&#20854;&#20182;&#35774;&#22791;&#65292;&#37117;&#21487;&#20197;&#36890;&#36807;&#21019;&#24314; udev &#30340;&#35268;&#21017;&#26469;&#23450;&#21046;&#22266;&#23450;&#30340;&#31526;&#21495;&#38142;&#25509;&#12290;   &#32593;&#21345;&#30340;&#35299;&#20915;&#26041;&#27861;&#35831;&#35265; <a class="xref"
          href="network.html" title=
          "7.13.&nbsp;Configuring the network Script">Section&nbsp;7.13,
          &ldquo;&#37197;&#32622;&#32593;&#32476;&#33050;&#26412; &rdquo;</a>&#65292;&#22768;&#21345;&#35299;&#20915;&#26041;&#27861;&#35831;&#35265; <a class="ulink" href=
          "http://www.linuxfromscratch.org/blfs/view/svn/postlfs/devices.html"> BLFS</a>&#12290;        </p>
        <p>&#27599;&#19968;&#20010;&#35774;&#22791;&#37117;&#21487;&#33021;&#26377;&#36825;&#20010;&#38382;&#39064; (&#21363;&#20351;&#36825;&#20010;&#38382;&#39064;&#22312;&#20320;&#29616;&#22312;&#30340;&#21457;&#34892;&#29256;&#20013;&#19981;&#23384;&#22312;), &#22312; <code class=
          "filename">/sys/class</code> &#25110; <code class=
          "filename">/sys/block </code> &#19979;&#25214;&#21040;&#30456;&#24212;&#30340;&#30446;&#24405;&#65292;&#23545;&#20110;&#35270;&#39057;&#35774;&#22791;&#65292;&#21487;&#33021;&#26159; 
          <code class="filename">/sys/class/video4linux/video<em class=
          "replaceable"><code>X</code></em></code>&#12290; &#25214;&#20986;&#26631;&#35760;&#35774;&#22791;&#21807;&#19968;&#24615;&#30340;&#23646;&#24615;&#65288;&#36890;&#24120;&#26159; &#35774;&#22791;&#25552;&#20379;&#21830;&#12289;&#20135;&#21697; ID &#20197;&#21450;&#24207;&#21015;&#21495;&#65289;&#65306;</p>
        <pre class="userinput"><kbd class=
        "command">udevadm info -a -p /sys/class/video4linux/video0</kbd></pre>
        <p>&#25509;&#19979;&#26469;&#65292;&#20889;&#19968;&#20010;&#21019;&#24314;&#31526;&#21495;&#38142;&#25509;&#30340;&#35268;&#21017;&#65292;&#20363;&#22914;&#65306;</p>
        <pre class="userinput"><kbd class=
        "command">cat &gt; /etc/udev/rules.d/83-duplicate_devs.rules &lt;&lt; "EOF"
<code class="literal">
# Persistent symlinks for webcam and tuner
KERNEL=="video*", ATTRS{idProduct}=="1910", ATTRS{idVendor}=="0d81", \
    SYMLINK+="webcam"
KERNEL=="video*", ATTRS{device}=="0x036f", ATTRS{vendor}=="0x109e", \
    SYMLINK+="tvtuner"
</code>
EOF</kbd></pre>
        <p>
          &#32467;&#26524; <code class="filename">/dev/video0</code> &#21644;
          <code class="filename">/dev/video1</code>&#35774;&#22791;&#20173;&#28982;&#38543;&#26426;&#25351;&#21521;&#35843;&#35856;&#22120;&#21644;&#32593;&#32476;&#25668;&#20687;&#22836; &#65288;&#22240;&#27492;&#19981;&#24212;&#24403;&#30452;&#25509;&#20351;&#29992;&#65289;&#65292; &#20294;&#26159;&#31526;&#21495;&#38142;&#25509; <code class=
          "filename">/dev/tvtuner</code> &#21644; <code class=
          "filename">/dev/webcam</code> &#24635;&#26159;&#25351;&#21521;&#27491;&#30830;&#30340;&#35774;&#22791;&#12290;</p>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="udev.html" title=
          "Device and Module Handling on an LFS System">&#21518;&#36864;</a>
          <p>
            LFS &#31995;&#32479;&#30340;&#35774;&#22791;&#21644;&#27169;&#22359;&#22788;&#29702;
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="hostname.html" title=
          "Configuring the localnet Script">&#21069;&#36827;</a>
          <p>
            &#37197;&#32622; localnet &#33050;&#26412; 
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter07.html" title=
          "Chapter&nbsp;7.&nbsp;Setting Up System Bootscripts">&#19978;&#19968;&#32423;</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 6.6">&#39318;&#39029;</a>
        </li>
      </ul>
    </div>
  </body>
</html>
